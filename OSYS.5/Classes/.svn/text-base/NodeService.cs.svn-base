using System;
using System.Net;
using System.Windows;
using System.Windows.Controls;
using System.Windows.Documents;
using System.Windows.Ink;
using System.Windows.Input;
using System.Windows.Media;
using System.Windows.Media.Animation;
using System.Windows.Shapes;
using iDeal.silverlight.classes;
using iDeal.silverlight;
using System.Xml.Linq;

namespace VesselTracking.Classes
{
    public class NodeService:CSyncService
    {
       
            public NodeService(string procedureName)
                : base(Security.CurrentUser.ID, procedureName)
            {
                UserID = Security.CurrentUser.ID;
                base.OnStarted += new EventHandler(NodeService_OnStarted);
                base.OnUpdateRequested += new EventHandler(NodeService_OnUpdateRequested);
                base.OnFirstUpdate += new DataDownloadedHandler(NodeService_OnFirstUpdate);
                base.OnUpdated += new DataDownloadedHandler(NodeService_OnUpdated);
                base.OnStopped += new EventHandler(NodeService_OnStopped);
                base.OnException += new ExceptionHandler(NodeService_OnException);
            }

            void NodeService_OnStopped(object sender, EventArgs e)
            {

            }

            void NodeService_OnUpdated(object sender, XElement xml)
            {
                Index = CData.NodeItems.UpdateCollection(xml, Index);
            }

            void NodeService_OnException(object sender, Exception x)
            {

            }

            void NodeService_OnUpdateRequested(object sender, EventArgs e)
            {

            }

            void NodeService_OnStarted(object sender, EventArgs e)
            {

            }

            void NodeService_OnFirstUpdate(object sender, XElement xml)
            {
                Index = CData.NodeItems.UpdateCollection(xml, Index);
            }
      
    }
}
